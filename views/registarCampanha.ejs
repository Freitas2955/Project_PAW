<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campanha</title>
  <link rel='stylesheet' href='/stylesheets/campanha.css' />
</head>

<body>
  <%- include('general/header',{username:username, userId:userId}) -%>
    <main>
      <%- include('general/sidebar', { activeItem: 'pagina5' }) -%>

        <div class="content">
          <h1>Campanha</h1>
          <form id="Form" action="/campaigns/save/<%partner._id%>" method="post"> 
            <div class="clothes">
                <div id="upload-box">
                    <input type="file" id="upload-input" name="file" accept="image/*"
                        onchange="previewImage(event)" />
                    <p>Clique para fazer upload ou arraste e solte uma imagem aqui</p>
                </div>
                <div id="preview-container"></div>

              <div class="leftside">
                <div class="inputContainer">
                    <label for="titulo">Título:</label>
                    <input type="text" id="titulo" name="titulo" placeholder="Título" required>
                </div> 
                <div class="inputContainer">
                    <label for="description">Descrição:</label>
                    <textarea id="description" name="description" rows="4" placeholder="Descrição"
                        required></textarea>
                </div>
              </div>
              <div class="rightside">
                <div class="inputContainer">
                    <label for="custo">Custos:</label>
                    <input type="number" id="custo" name="custo" min="0" placeholder="Custos" required><br><br>
                  </div>
                <div class="inputContainer">
                  <label for="oferta">Oferta:</label>
                  <input type="number" id="oferta" name="oferta" min="0" placeholder="Oferta" required><br><br>
                </div>
              </div>
            </div>            
            <div class="buttonContainer">
              <button id="Guardar" type="submit">Guardar</button>
            </div>
          </form>


          <script>
            function previewImage(event) {
            const input = event.target;
            const reader = new FileReader();
        
            reader.onload = function() {
                const imgElement = document.createElement('img');
                imgElement.src = reader.result;
                imgElement.style.maxWidth = '100%';
                imgElement.style.maxHeight = '100%';
        
                const previewContainer = document.querySelector('#preview-container');
                previewContainer.innerHTML = ''; // Limpa qualquer prévia existente
                previewContainer.appendChild(imgElement);
            };
        
            reader.readAsDataURL(input.files[0]);
        }
        </script>
</body>

</html>